(this["webpackJsonpsearch-checkbox"]=this["webpackJsonpsearch-checkbox"]||[]).push([[0],{24:function(e,t,n){e.exports=n(56)},29:function(e,t,n){},30:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){"use strict";n.r(t);var a,r=n(0),c=n.n(r),l=n(5),o=n.n(l),u=(n(29),n(30),n(2)),i=n(3),s=n(4),m=n(10),v=n.n(m),d=n(22),f=n(11),h=n.n(f),E="NEWS_FETCHING",p="NEWS_FETCH_SUCCESS",b="NEWS_FETCH_FAIL",y={data:[],loading:null,error:null,keyword:""},g=function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case E:return Object(s.a)(Object(s.a)({},n),{},{loading:!0});case p:var r=null===(e=a.payload)||void 0===e||null===(t=e.hits)||void 0===t?void 0:t.filter((function(e){return e.title}));return{loading:!1,data:r,error:null,keyword:a.keyword};case b:return{loading:!1,error:a.payload,data:[]};default:return n}},k=n(23),j=Object(i.c)(g,Object(i.a)(k.a)),w=n(6),O=Object(r.memo)((function(){var e=Object(u.c)((function(e){return e})),t=e.data,n=e.loading,a=e.error;return null===n?null:c.a.createElement("div",{className:"news-container"},null===t||void 0===t?void 0:t.map((function(e){var t=e._highlightResult,n=e.objectID,a=e.url,r=e._tags,l=t||{},o=l.title,u=l.story_text,i=l.url;return c.a.createElement("div",{key:n,className:"news-item"},o&&c.a.createElement("a",{href:a,target:"_blank",rel:"noopener noreferrer"},i&&c.a.createElement("div",{className:"news-item-url",dangerouslySetInnerHTML:{__html:i.value}}),c.a.createElement("div",{className:"news-item-title",dangerouslySetInnerHTML:{__html:o.value}})),(null===r||void 0===r?void 0:r.length)>0&&c.a.createElement("div",{className:"flex-row"},r.map((function(e){return c.a.createElement("div",{className:"news-item-tag flex-center"},e)}))),u&&c.a.createElement("div",{className:"news-item-content",dangerouslySetInnerHTML:{__html:u.value}}))})),n||a||t.length>0?null:c.a.createElement("div",{className:"news-empty flex-center"},"Not Found"),!a||n?null:c.a.createElement("div",{className:"news-error flex-center"},a))})),N=(n(55),Object(r.memo)((function(){return c.a.createElement("span",{className:"search-icon"},c.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},c.a.createElement("circle",{cx:"11",cy:"11",r:"8"}),c.a.createElement("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})))}))),x=Object(r.memo)((function(){return Object(u.c)((function(e){return e.loading}))?c.a.createElement("div",{className:"search-loader"}):null})),C=Object(r.memo)((function(){var e=Object(u.b)(),t=Object(r.useState)(""),n=Object(w.a)(t,2),l=n[0],o=n[1];!function(e,t,n){var a=Object(r.useCallback)(e,n),c=Object(r.useRef)();Object(r.useEffect)((function(){return clearTimeout(c.current),c.current=setTimeout(a,t),function(){return clearTimeout(c.current)}}),[a,t])}((function(){return e((t=l,function(){var e=Object(d.a)(v.a.mark((function e(n){var r,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n({type:E}),e.prev=1,a&&a.cancel("Cancel fetchNews request"),a=h.a.CancelToken.source(),e.next=6,h()({url:"https://hn.algolia.com/api/v1/search?query=".concat(encodeURIComponent(t)),cancelToken:a.token});case 6:r=e.sent,c=r.data,n({type:p,payload:c}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),"Cancel fetchNews request"!==(null===e.t0||void 0===e.t0?void 0:e.t0.message)&&n({type:b,payload:"Sorry, something went wrong, please try again!"});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()));var t}),100,[l]);var i=Object(r.useCallback)((function(e){o(e.target.value)}),[]);return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"search-header flex-row flex-center"},c.a.createElement("div",{className:"search-input-container flex-row"},c.a.createElement(N,null),c.a.createElement("input",{autoFocus:!0,onChange:i,placeholder:"Search\u2026",className:"search-input"}),c.a.createElement(x,null))),c.a.createElement(O,null))})),_=1,S=0,T=-1,I=Object(r.memo)((function(e){var t=e.status,n=e.onClick,a=e.item,l=Object(r.useRef)();return Object(r.useEffect)((function(){l.current.indeterminate=t===T}),[t]),c.a.createElement("div",null,c.a.createElement("input",{type:"checkbox",checked:t===_,ref:l,onChange:function(){return n(a)}}),c.a.createElement("span",null,a.name))})),F=n(58),L={name:"level 1",items:[{name:" level 2",items:[{name:"level 3"},{name:"level 3",items:[{name:"level 4",items:[{name:"level 5",items:[{name:"level 6"},{name:"level 6"}]},{name:"level 5"}]}]},{name:"level 3",items:[{name:"level 4"},{name:"level 4"}]}]},{name:"level 2",items:[{name:"level 3"}]}]},H=Object(r.memo)((function(){var e=Object(r.useState)({}),t=Object(w.a)(e,2),n=t[0],a=t[1],l=Object(r.useMemo)((function(){return function e(t){t.key=Object(F.a)(),t.items&&t.items.forEach((function(n){n.parent=t,e(n)}))}(L),L}),[]),o=Object(r.useCallback)((function(e){a((function(t){var n=e.key,a=e.parent,r=t[n]===_?S:_;!function e(n,a){var r=n.key,c=n.items;t[r]=a,c&&c.forEach((function(t){e(t,a)}))}(e,r);return function e(n){if(n){var a,r=n.items,c=n.parent,l=n.key,o=r.reduce((function(e,n){return e+(t[n.key]===_)}),0),u=r.reduce((function(e,n){return e+(t[n.key]===T)}),0);a=o===r.length?_:u>0||o>0?T:S,t[l]=a,e(c)}}(a),Object(s.a)({},t)}))}),[]);return function e(t){var a=t.items,r=t.key;return c.a.createElement("div",{key:r},c.a.createElement(I,{item:t,status:n[r],onClick:o}),c.a.createElement("div",{style:{marginLeft:20}},null===a||void 0===a?void 0:a.map((function(t){return e(t)}))))}(l)})),M=function(){return c.a.createElement(u.a,{store:j},c.a.createElement("div",{className:"flex-row"},c.a.createElement("div",{className:"app-content"},c.a.createElement(C,null)),c.a.createElement("div",{className:"divider-horizontal"}),c.a.createElement("div",{className:"app-content"},c.a.createElement(H,null))))};o.a.render(c.a.createElement(M,null),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.f4ded7fb.chunk.js.map